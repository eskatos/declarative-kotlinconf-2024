<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>Developer-first Gradle builds</title><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui" name="viewport"><link href="reveal.js/css/reveal.css" rel="stylesheet"><link rel="stylesheet" href="reveal.js/css/theme/simple.css" id="theme"><!--This CSS is generated by the Asciidoctor-Reveal.js converter to further integrate AsciiDoc's existing semantic with Reveal.js--><style type="text/css">.reveal div.right {
  float: right;
}

.reveal .listingblock.stretch > .content {
  height: 100%;
}

.reveal .listingblock.stretch > .content > pre {
  height: 100%;
}

.reveal .listingblock.stretch > .content > pre > code {
  height: 100%;
  max-height: 100%;
}

/* tables */
table{border-collapse:collapse;border-spacing:0}
table{margin-bottom:1.25em;border:solid 1px #dedede}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
td.tableblock>.content{margin-bottom:1.25em}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
.reveal table th.halign-left,.reveal table td.halign-left{text-align:left}
.reveal table th.halign-right,.reveal table td.halign-right{text-align:right}
.reveal table th.halign-center,.reveal table td.halign-center{text-align:center}
.reveal table th.valign-top,.reveal table td.valign-top{vertical-align:top}
.reveal table th.valign-bottom,.reveal table td.valign-bottom{vertical-align:bottom}
.reveal table th.valign-middle,.reveal table td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{font-weight:bold}
thead{display:table-header-group}

.reveal table.grid-none th,.reveal table.grid-none td{border-bottom:0!important}

/* callouts */
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:50%;border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}</style><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-1/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-1/css/v4-shims.min.css"><script>var link = document.createElement( 'link' );
link.rel = 'stylesheet';
link.type = 'text/css';
link.href = window.location.search.match( /print-pdf/gi ) ? "reveal.js/css/print/pdf.css" : "reveal.js/css/print/paper.css";
document.getElementsByTagName( 'head' )[0].appendChild( link );</script><!--[if lt IE 9]><script src="reveal.js/lib/js/html5shiv.js"></script><![endif]--><link rel="stylesheet" type="text/css" href="style/gradle-kotlinconf.css"/></head><body><div class="reveal"><div class="slides"><section class="title" data-state="title" data-background-size="cover" data-background-image="./images/gradle/intro.png" data-background-color="#02303a"><h1>Developer-first Gradle builds</h1><div class="preamble"><div class="paragraph"><p>Sterling Greene &amp; Paul Merlin</p></div>
<div class="imageblock" style="text-align: right"><img src="./images/kotlinconf/logo-kotlinconf.png" alt="logo kotlinconf" width="100%"></div></div></section>
<section id="slide_agenda" data-background-color="#02303a" data-background-image="./images/gradle/bg-8.png" data-background-size="cover"><h2>Agenda</h2>
<div class="dlist"><dl><dt class="hdlist1">Challenges üî•</dt><dd><p>Maintenance and understanding</p></dd><dt class="hdlist1">Developer first builds &#x1f4aa;</dt><dd><p>Vision and current state</p></dd><dt class="hdlist1">Demos &#x1F39B;</dt><dd><p>Don&#8217;t say it, declare it</p></dd><dt class="hdlist1">What&#8217;s next? &#x1F52E;</dt><dd><p>A peak into the future</p></dd></dl></div>
<aside class="notes"><div class="paragraph"><p>Speaker Paul</p></div></aside></section>
<section><section id="slide_who_are_we" data-background-color="#02303a" data-background-image="./images/gradle/bg-1.png" data-background-size="cover"><h2>Who are we?</h2><div class="paragraph"><p>&#x1F9D1;&#x200D;&#x1F4BB; &#x1F9D1;&#x200D;&#x1F4BB;</p></div></section><section id="slide_sterling_paul" data-background-image="./images/gradle/bg-1.png" data-background-size="cover">
<div class="imageblock" style=""><img src="./images/sterling_paul.jpg" alt="sterling paul" width="50%"></div>
<table class="tableblock frame-none grid-none" style="width:100%"><colgroup><col style="width:50%"><col style="width:50%"></colgroup><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-kotlin hljs" data-noescape="true" data-lang="kotlin">‚Äã
speaker {
  name = "Paul Merlin"
  company = "Gradle"
  joined = 2015
  currently = "Declarative Gradle"
  previously = "Performance, Kotlin DSL, Configuration Cache"
  github = "eskatos"
  mastodon = "@eskatos@mastodon.social"
}
‚Äã</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-kotlin hljs" data-noescape="true" data-lang="kotlin">‚Äã
speaker {
  name = "Sterling Greene"
  company = "Gradle"
  joined = 2014
  currently = "Declarative Gradle"
  previously = "JVM, Core, Native, Build Cache"
  github = "big-guy"
  x = "@argfile"
}
‚Äã</code></pre></div></div></div></td></tr></table></section><section id="slide_gradle" data-background-image="./images/gradle/bg-1.png"><h2>Gradle</h2>
<table class="tableblock frame-none grid-none who-gradle" style="width:100%"><colgroup><col style="width:33.3333%"><col style="width:33.3333%"><col style="width:33.3334%"></colgroup><tbody><tr><td class="tableblock halign-center valign-middle"><div><div class="imageblock" style=""><img src="./images/logo-gradleware.svg" alt="logo gradleware"></div></div></td><td class="tableblock halign-center valign-middle"><div><div class="imageblock" style=""><img src="./images/logo-gradle-old.svg" alt="logo gradle old"></div></div></td><td class="tableblock halign-center valign-middle"><div><div class="imageblock" style=""><img src="./images/logo-gradle-elephant-old.png" alt="logo gradle elephant old"></div></div></td></tr></table>
<div class="paragraph"><p>Since 2008, our mission is to accelerate developer productivity.</p></div>
<table class="tableblock frame-none grid-none who-gradle" style="width:100%"><colgroup><col style="width:33.3333%"><col style="width:33.3333%"><col style="width:33.3334%"></colgroup><tbody><tr><td class="tableblock halign-center valign-middle"><div><div class="imageblock" style=""><img src="./images/logo-gradle-elephant-geometrics.svg" alt="logo gradle elephant geometrics"></div></div></td><td class="tableblock halign-center valign-middle"><div><div class="imageblock" style=""><img src="./images/logo-gradle-elephant.svg" alt="logo gradle elephant"></div></div></td><td class="tableblock halign-center valign-middle"><div><div class="imageblock" style=""><img src="./images/logo-gradle-elephant-outline.svg" alt="logo gradle elephant outline"></div></div></td></tr></table></section><section id="slide_gradle_build_tool" data-background-image="./images/gradle/bg-1.png" data-background-size="cover">
<div class="imageblock product-logo-as-title" style=""><img src="./images/logo-gradle-build-tool.svg" alt="logo gradle build tool"></div>
<div class="paragraph"><p><a href="https://github.com/gradle/gradle/blob/master/LICENSE">Apache</a> licenced sofware build tool</p></div>
<div class="paragraph"><p>With 50M+ monthly downloads and one of the top 20 popular open source projects according to <a href="https://techcrunch.com/2017/04/07/tracking-the-explosive-growth-of-open-source-software/">TechCrunch</a>.</p></div></section><section id="slide_develocity" data-background-image="./images/gradle/bg-1.png" data-background-size="cover">
<div class="imageblock product-logo-as-title" style=""><img src="./images/logo-develocity-light.svg" alt="logo develocity light"></div>
<div class="paragraph"><p>Develocity, commercial product, is the first Developer Productivity Engineering (DPE) integrated solution.</p></div>
<div class="imageblock" style=""><img src="./images/gradle/ge-4.png" alt="ge 4" width="55%"></div>
<table class="tableblock frame-none grid-none who-ge" style="width:100%"><colgroup><col style="width:20%"><col style="width:20%"><col style="width:20%"><col style="width:20%"><col style="width:20%"></colgroup><tbody><tr><td class="tableblock halign-center valign-middle"><div><div class="imageblock" style=""><img src="./images/logo-gradle-elephant.svg" alt="logo gradle elephant"></div>
<div class="paragraph"><p>Gradle</p></div></div></td><td class="tableblock halign-center valign-middle"><div><div class="imageblock" style=""><img src="./images/logo-android-studio.png" alt="logo android studio"></div>
<div class="paragraph"><p>Android</p></div></div></td><td class="tableblock halign-center valign-middle"><div><div class="imageblock" style=""><img src="./images/logo-maven.svg" alt="logo maven"></div>
<div class="paragraph"><p>Maven</p></div></div></td><td class="tableblock halign-center valign-middle"><div><div class="imageblock" style=""><img src="./images/logo-bazel.svg" alt="logo bazel"></div>
<div class="paragraph"><p>Bazel</p></div></div></td><td class="tableblock halign-center valign-middle"><div><div class="imageblock" style=""><img src="./images/logo-sbt.svg" alt="logo sbt"></div>
<div class="paragraph"><p>Scala</p></div></div></td></tr></table>
<aside class="notes"><div class="paragraph"><p>make builds and tests faster
make problem research more efficient
metadata of all the builds<br>
outputs of all the builds<br>
observability: scans, performance trends, test dashboard etc&#8230;&#8203;<br>
acceleration: build-cache, test distribution, predictive test selection etc..</p></div></aside></section><section id="slide_build_scan" data-background-image="./images/gradle/bg-1.png" data-background-size="cover"><h2>Build Scan¬Æ</h2>
<div class="paragraph"><p>A permanent record of what happens during a build.</p></div>
<div class="imageblock" style=""><img src="./images/buildscan-example.png" alt="buildscan example"></div>
<div class="paragraph"><p><span class="image"><a class="image" href="https://ge.gradle.org/s/5tpk266tnimuo"><img src="./images/build-scan-link.svg" alt="build scan link"></a></span></p></div>
<aside class="notes"><div class="paragraph"><p>We will use build scans during this task to illustrate some points.</p></div></aside></section><section id="slide_developer_productivity_engineering" data-background-image="./images/gradle/bg-1.png" data-background-size="cover"><h2>Developer Productivity Engineering</h2>
<div class="paragraph"><p>DPE is an emerging software practice that relies on acceleration technologies and data analysis to improve developer productivity.</p></div>
<table class="tableblock frame-none grid-none" style="width:100%"><colgroup><col style="width:66.6666%"><col style="width:33.3334%"></colgroup><tbody><tr><td class="tableblock halign-center valign-middle"><div><div class="paragraph"><p><span class="image"><img src="./images/dpe-handbook.png" alt="dpe handbook" width="35%"></span> <span class="image"><img src="./images/dpe-maturity-model.png" alt="dpe maturity model" width="35%"></span></p></div>
<div class="paragraph small"><small><a href="https://gradle.com/developer-productivity-engineering" class="bare">gradle.com/developer-productivity-engineering</a></small></div></div></td><td class="tableblock halign-center valign-middle"><div><div class="imageblock" style=""><img src="./images/dpe-summit.png" alt="dpe summit"></div>
<div class="paragraph small"><small><a href="https://dpe.org" class="bare">dpe.org</a></small></div>
<div class="imageblock" style=""><img src="./images/dpe-showdown.jpeg" alt="dpe showdown"></div>
<div class="paragraph small"><small><a href="https://www.youtube.com/playlist?list=PLLQbIfXVLZqG0_Hg_yHLCrphP2gmhNZE1">DPE Lowdown - Youtube Playlist</a><br>
<a href="https://www.youtube.com/playlist?list=PLLQbIfXVLZqHiRLgGIsFI9D5CRhhjCSAi">DPE Showdown - Youtube Playlist</a></small></div></div></td></tr></table>
<aside class="notes"><div class="paragraph"><p>DevProdEng Showdown is a series of 30min live events broadcasted during which experts debate about developer productivity engineering.</p></div>
<div class="paragraph"><p>Two shows
* showdown: game show with multiple participants
* lowdown: face to face interviews</p></div>
<div class="paragraph"><p>How Netflix, Google, Slack, LinkedIn and other teams do DPE?</p></div></aside></section><section id="slide_new_dpe_university" data-background-image="./images/gradle/bg-4.png" data-background-size="cover"><h2>NEW: DPE University üéì</h2>
<div class="imageblock" style=""><img src="./images/dpeu/cover.png" alt="cover" width="60%"></div>
<div class="ulist"><ul><li><p>Free courses at <a href="https://dpeuniversity.gradle.com/app">dpeuniversity.gradle.com</a></p></li><li><p>6 Gradle courses - from Beginner to Advanced levels</p></li><li><p>More courses on Maven, Develocity etc&#8230;&#8203;</p></li></ul></div></section></section>
<section><section id="slide_challenges" data-background-color="#02303a" data-background-image="./images/gradle/bg-7.png" data-background-size="cover"><h2>Challenges &#x1F525;</h2><div class="paragraph"><p>Gradle is flexible and extensible<br>
Drawbacks</p></div><aside class="notes"><div class="paragraph"><p>Speaker Sterling</p></div></aside></section><section id="slide_challenges_2" data-background-image="./images/gradle/bg-7.png" data-background-size="cover"><h2>Challenges &#x1F525;</h2>
<div class="paragraph"><p>Gradle is flexible and extensible<br>
Drawbacks</p></div>
<div class="ulist"><ul><li><p>Build scripts speak Gradle and not your domain.</p></li><li><p>Build scripts can be a mess.</p></li><li><p>Tooling can only help so much.</p></li></ul></div></section><section id="slide_challenges_jeg_taler_gradle" data-background-image="./images/gradle/bg-7.png" data-background-size="cover"><h2>Challenges <span class="small">- Jeg taler Gradle</span></h2>
<div class="paragraph"><p><code>build.gradle.kts</code></p></div>
<div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-kotlin hljs" data-noescape="true" data-lang="kotlin">plugins {
    java
}

repositories {
    mavenCentral()
}

dependencies {
    testImplementation(libs.junit.jupiter)

    testRuntimeOnly("org.junit.platform:junit-platform-launcher")

    api(libs.commons.math3)

    implementation(libs.guava)
}

tasks.named&lt;Test&gt;("test") {
    useJUnitPlatform()
}</code></pre></div></div>
<aside class="notes"><div class="paragraph"><p>I&#8217;m building a Java what?
What&#8217;s a repository?
What&#8217;s a task?
I&#8217;m using JUnit5, I guess that&#8217;s like JUnit platform?</p></div></aside></section><section id="slide_challenges_3" data-background-image="./images/gradle/bg-7.png" data-background-size="cover"><h2>Challenges <span class="small">- &#x2622;</span></h2>
<div class="paragraph"><p><code>build.gradle.kts</code></p></div>
<div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-kotlin hljs" data-noescape="true" data-lang="kotlin">plugins {
    id("my-conventions")
}

apply {
    from("dependencies.gradle.kts")
}

tasks.named&lt;Test&gt;("test") {
    useJUnitPlatform()
    jvmArgs "-Dsamples=${projectDir.absolutePath}/samples"
}

... 500 lines ...

tasks.named&lt;Test&gt;("test") {
    useJUnitPlatform {
        includeTags("Fast")
    }
}</code></pre></div></div>
<aside class="notes"><div class="paragraph"><p>Where does anything come from?
Footguns</p></div></aside></section><section id="slide_challenges_gauntlet_for_toolability" data-background-image="./images/gradle/bg-7.png" data-background-size="cover"><h2>Challenges <span class="small">- Gauntlet for toolability</span></h2>
<div class="paragraph"><p><code>build.gradle.kts</code></p></div>
<div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-kotlin hljs" data-noescape="true" data-lang="kotlin">android {
    namespace = "com.example.${project.name}"
}

dependencies {
    testImplementation(libs.junit.jupiter)
    testRuntimeOnly("org.junit.platform:junit-platform-launcher")

    api(libs.commons.math3)

    if (!buildingForJava17()) {
        implementation(libs.java17CompatibilityShim)
    }

    implementation(libs.guava)

    listOf("foo", "bar").forEach { name -&gt;
        implementation("org:${name}:1.0")
    }

}

fun buildingForJava17() = JavaVersion.current() == JavaVersion.VERSION_17</code></pre></div></div>
<aside class="notes"><div class="paragraph"><p>Very hard for tooling to modify or provide assistance</p></div></aside></section></section>
<section id="slide_questions_Ô∏è" data-background-color="#02303a" data-background-image="./images/gradle/bg-1.png" data-background-size="cover"><h2>Questions üñêÔ∏è</h2>
<div class="ulist"><ul><li><p>Who has needed a flexible and extensible build system?</p></li><li><p>Who has seen a complex build?</p></li></ul></div></section>
<section><section id="slide_overcoming_challenges" data-background-color="#02303a" data-background-image="./images/gradle/bg-7.png" data-background-size="cover"><h2>Overcoming challenges</h2><div class="paragraph"><p>üí™</p></div></section><section id="slide_overcoming_challenges_definitions" data-background-image="./images/gradle/bg-11.png" data-background-size="cover"><h2>Overcoming challenges <span class="small">- Definitions</span></h2>
<div class="ulist"><ul><li><p>Software Definition</p><div class="ulist"><ul><li><p><em>What</em> needs to be built</p></li><li><p>Kind of software, languages, target platforms</p></li><li><p>Dependencies, toolchains, quality checks etc&#8230;&#8203;</p></li></ul></div></li><li><p>Build Logic</p><div class="ulist"><ul><li><p><em>How</em> the software will be built</p></li><li><p>Adds new capabilities, integrate tools</p></li><li><p>Supplies convention to the software definition</p></li></ul></div></li></ul></div></section><section id="slide_overcoming_challenges_recommendations" data-background-image="./images/gradle/bg-7.png" data-background-size="cover"><h2>Overcoming challenges <span class="small">- Recommendations</span></h2>
<div class="paragraph"><p>Gradle can look declarative</p></div>
<div class="ulist"><ul><li><p>Keep build logic in plugins</p></li><li><p>Give your convention plugins meaningful names</p></li><li><p>Keep your build scripts simple - condition and loop free</p></li></ul></div></section><section id="slide_overcoming_challenges_2" data-background-image="./images/gradle/bg-7.png" data-background-size="cover"><h2>Overcoming challenges <span class="small">- &#x1F389;</span></h2>
<div class="paragraph"><p><code>build.gradle.kts</code></p></div>
<div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-kotlin hljs" data-noescape="true" data-lang="kotlin">plugins {
    id("backend-library-conventions")
}

dependencies {
    api(libs.commons.math3)
    implementation(libs.guava)
}</code></pre></div></div>
<div class="paragraph"><p>But this might not be enough.</p></div>
<aside class="notes"><div class="ulist"><ul><li><p>We know what kind of thing we&#8217;re building (a backend library)</p></li><li><p>We only have to deal with our direct dependencies</p></li></ul></div></aside></section></section>
<section><section id="slide_developer_first_builds" data-background-color="#02303a" data-background-image="./images/gradle/bg-11.png" data-background-size="cover"><h2>Developer-first builds &#x1F39B;</h2><div class="paragraph"><p>Vision</p></div><aside class="notes"><div class="paragraph"><p>Speaker Paul</p></div></aside></section><section id="slide_developer_first_builds_vision" data-background-image="./images/gradle/bg-11.png" data-background-size="cover"><h2>Developer-first builds <span class="small">- Vision</span></h2>
<div class="quoteblock"><blockquote><div class="paragraph"><p>Elegant and extensible declarative build language that allows developers to describe any kind of software in a clear and understandable way.</p></div></blockquote></div>
<div class="ulist"><ul><li><p>Extensible, flexible ‚úÖ</p></li><li><p>Declarative üòû</p></li><li><p>Clear and understandable üò´</p></li></ul></div></section><section id="slide_software_developers_build_engineers" data-background-image="./images/gradle/bg-11.png" data-background-size="cover"><h2>Software Developers &amp; Build Engineers</h2>
<div class="ulist"><ul><li><p>Software Developers - Majority in most teams</p><div class="ulist"><ul><li><p><span class="small">Improve software by shipping features, fixing bugs &#8230;&#8203;</span></p></li></ul></div></li><li><p>Build Engineers - Frequent in larger teams</p><div class="ulist"><ul><li><p><span class="small">Maintain the build, make developers productive</span></p></li></ul></div></li><li><p>üé© ‚Üî üß¢ - Frequent in smaller teams</p><div class="ulist"><ul><li><p><span class="small">Who&#8217;s the Gradle expert?</span></p></li></ul></div></li></ul></div></section><section id="slide_software_definition_vs_build_logic" data-background-image="./images/gradle/bg-11.png" data-background-size="cover"><h2>Software Definition vs Build Logic</h2>
<div class="ulist"><ul><li><p>Software Definition - <em>What</em> needs to be built</p><div class="ulist"><ul><li><p>Meant to be read and modified by Software Developers</p></li><li><p>Resides in settings and projects definitions</p></li></ul></div></li><li><p>Build Logic - <em>How</em> the software will be built</p><div class="ulist"><ul><li><p>Meant to be read and modified by Build Engineers</p></li><li><p>Resides in plugins (local or external)</p></li></ul></div></li></ul></div></section><section id="slide_developer_first_builds_tactical_goals" data-background-image="./images/gradle/bg-11.png" data-background-size="cover"><h2>Developer-first builds <span class="small">- Tactical goals</span></h2>
<div class="ulist"><ul><li><p>Separate software definition and build logic<br>
with a declarative DSL</p></li><li><p>Match the software definition to the software domain</p></li><li><p>Excellent Tooling and IDE Integration</p></li></ul></div></section></section>
<section><section id="slide_developer_first_builds_2" data-background-color="#02303a" data-background-image="./images/gradle/bg-11.png" data-background-size="cover"><h2>Developer-first builds &#x1F39B;</h2><div class="paragraph"><p>Current state</p></div></section><section id="slide_developer_first_builds_teams" data-background-image="./images/gradle/bg-11.png" data-background-size="cover"><h2>Developer-first builds <span class="small">- Teams</span></h2>
<div class="paragraph"><p>We work on this together ü§ù</p></div>
<div class="ulist"><ul><li><p>Multiple teams at Gradle (DSL, Software, IDE)</p></li><li><p>Android Studio team at Google</p></li><li><p>IntelliJ, Kotlin &amp; Amper teams at JetBrains</p></li></ul></div></section><section id="slide_developer_first_builds_disclaimers" data-background-image="./images/gradle/bg-11.png" data-background-size="cover"><h2>Developer-first builds <span class="small">- Disclaimers</span></h2>
<div class="ulist"><ul><li><p>These are experiments.</p></li><li><p>Prototypes require a Gradle nightly.</p></li><li><p>IDE features require an Android Studio nightly.</p></li><li><p>Prototypes are changing all the time and are not ready for production use.</p></li></ul></div></section><section id="slide_developer_first_builds_declarative_configuration_language" data-background-image="./images/gradle/bg-11.png" data-background-size="cover"><h2>Developer-first builds <span class="small">- Declarative Configuration Language</span></h2>
<div class="ulist"><ul><li><p>Purely declarative</p></li><li><p>Small subset of the Kotlin language</p></li><li><p>Fast and resilient parser</p></li><li><p>Schemas &amp; Documents</p></li></ul></div></section><section id="slide_developer_first_builds_tooling" data-background-image="./images/gradle/bg-11.png" data-background-size="cover"><h2>Developer-first builds <span class="small">- Tooling</span></h2>
<div class="ulist"><ul><li><p>Get projects schemas via Gradle&#8217;s Tooling API</p><div class="ulist"><ul><li><p>After build settings are evaluated</p></li><li><p>Before configuring any project</p></li></ul></div></li><li><p>Load documents for project definitions</p><div class="ulist"><ul><li><p>Validate using the schema</p></li><li><p>DOM-like API</p></li></ul></div></li><li><p>This is data!</p><div class="ulist"><ul><li><p>JSON Serialization</p></li></ul></div></li></ul></div></section><section id="slide_developer_first_builds_performance" data-background-image="./images/gradle/bg-11.png" data-background-size="cover"><h2>Developer-first builds <span class="small">- Performance</span></h2>
<div class="paragraph small"><small><code>./gradlew assemble</code></small></div>
<div class="paragraph"><p><span class="image"><img src="./images/declarative-performance.png" alt="declarative performance" width="80%"></span></p></div>
<aside class="notes"><div class="paragraph"><p>This is to be taken with a grain of salt because while we will make things slower by adding features and correctness, we have not optimized yet, and we know we can make things faster.
This gives us a baseline and will help manage the Declarative DSL performance characteristics as we evolve the implementation.</p></div></aside></section><section id="slide_current_prototypes_software_definition" data-background-image="./images/gradle/bg-7.png" data-background-size="cover"><h2>Current prototypes <span class="small">- Software definition</span></h2>
<div class="ulist"><ul><li><p>Software types for Kotlin (KMP), JVM (Kotlin, Java) &amp; Android</p><div class="ulist"><ul><li><p>Software type is a high level model for the ecosystem</p></li></ul></div></li><li><p>Wraps around existing plugins</p></li><li><p>Limited configurability just to explore/experiment</p></li><li><p>No plugin application in project DCL files</p></li></ul></div>
<aside class="notes"><div class="paragraph"><p>Speaker Sterling</p></div></aside></section><section id="slide_current_prototypes_reusable_conventions" data-background-image="./images/gradle/bg-7.png" data-background-size="cover"><h2>Current prototypes <span class="small">- Reusable conventions</span></h2>
<div class="ulist"><ul><li><p>Reusable conventions support sharing common configuration</p><div class="ulist"><ul><li><p>Properties</p></li><li><p>Dependencies</p></li></ul></div></li><li><p>Declared at the top-level settings DCL file</p></li></ul></div></section><section id="slide_current_prototypes_software_types_demo" data-background-image="./images/gradle/bg-7.png" data-background-size="cover"><h2>Current prototypes <span class="small">- Software types - Demo</span></h2>
<div class="paragraph"><p><code>settings.gradle.dcl</code></p></div>
<div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-kotlin hljs" data-noescape="true" data-lang="kotlin">conventions {
    kotlinJvmLibrary {
        javaVersion = 21
    }
}</code></pre></div></div>
<div class="paragraph"><p><code>build.gradle.dcl</code></p></div>
<div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-kotlin hljs" data-noescape="true" data-lang="kotlin">kotlinJvmLibrary {
    // javaVersion comes from convention

    dependencies {
        api(project(":core:common"))
    }
}</code></pre></div></div>
<aside class="notes"><div class="paragraph"><p>Switch to IDE with NiA</p></div></aside></section></section>
<section id="slide_demo" data-background-color="#02303a" data-background-image="./images/gradle/bg-1.png" data-background-size="cover"><h2>Demo</h2>
<aside class="notes"><div class="ulist"><ul><li><p>You may wonder what the relationship between this and Amper</p></li><li><p>Amper is an experiment with similar goals that we are also learning from to inform our development.</p></li><li><p>Our approach is to greatly simplify build configuration with a focus on Software Developers and improved toolability without sacrificing any of Gradle&#8217;s flexibility or scalability.</p></li><li><p>We&#8217;re confident we can deliver on this vision and that you won&#8217;t even need Amper.</p></li></ul></div></aside></section>
<section id="slide_questions_Ô∏è_2" data-background-color="#02303a" data-background-image="./images/gradle/bg-1.png" data-background-size="cover"><h2>Questions üñêÔ∏è</h2>
<div class="ulist"><ul><li><p>Who has tried to automate changing the build definition?</p></li><li><p>Who would like to clicky-click in a UI to understand a build and change it?</p></li></ul></div></section>
<section><section id="slide_whats_next" data-background-color="#02303a" data-background-image="./images/gradle/bg-4.png" data-background-size="cover"><h2>What&#8217;s next? &#x1F52E;</h2><div class="paragraph"><p>A peak into the future</p></div></section><section id="slide_whats_next_mutations_refactorings" data-background-image="./images/gradle/bg-4.png" data-background-size="cover"><h2>What&#8217;s next? <span class="small">- Mutations / Refactorings</span></h2>
<div class="ulist"><ul><li><p>Gradle guided changes available from tooling and command-line</p></li><li><p>Integrated with IDE workflow (preview/diff, undo)</p></li><li><p>Provided out of the box by Gradle or registered by plugins</p></li></ul></div></section><section id="slide_whats_next_mutations_refactorings_2" data-background-image="./images/gradle/bg-4.png" data-background-size="cover"><h2>What&#8217;s next? <span class="small">- Mutations / Refactorings</span></h2>
<div class="paragraph"><p>Examples</p></div>
<div class="ulist"><ul><li><p>Upgrade an external dependency</p></li><li><p>Add Compose to this project</p></li><li><p>Update Gradle from 9.0 &#8594; 9.1</p></li><li><p>Refactor this project to use non-deprecated properties</p></li></ul></div></section><section id="slide_whats_next_quick_and_resilient_ide_sync" data-background-image="./images/gradle/bg-4.png" data-background-size="cover"><h2>What&#8217;s next? <span class="small">- Quick and resilient IDE sync</span></h2>
<div class="ulist"><ul><li><p>Progressively provide more context<br>
instead of a monolithic sync step.</p></li><li><p>Avoid slow recompilation of build scripts when build logic changes.<br>
Reparsing declarative files is fast.</p></li><li><p>Errors in a declarative file don&#8217;t need to be fatal to sync<br>
Best effort: know what "kind" of project it is at least.</p></li></ul></div></section><section id="slide_whats_next_other_ides" data-background-image="./images/gradle/bg-4.png" data-background-size="cover"><h2>What&#8217;s next? <span class="small">- Other IDEs</span></h2>
<div class="ulist"><ul><li><p>We want all features to be available to most IDEs</p></li><li><p>We&#8217;re working with JetBrains and Google for their IDEs</p></li><li><p>Our IDE team is exploring</p><div class="ulist"><ul><li><p>LSP language server &amp; BSP build server</p></li><li><p>plugins for both Eclipse/Buildship and Visual Studio Code</p></li></ul></div></li><li><p>LSP &amp; BSP should allow to add support in many other IDEs</p></li></ul></div></section><section id="slide_whats_next_defining_new_software_types" data-background-image="./images/gradle/bg-4.png" data-background-size="cover"><h2>What&#8217;s next? <span class="small">- Defining new Software types</span></h2>
<div class="ulist"><ul><li><p>Multiple conventions for the same software type</p></li><li><p>Restricted configurability for a software type</p></li><li><p>Entirely new software types/ecosystems</p></li></ul></div></section><section id="slide_whats_next_multiple_software_type_conventions" data-background-image="./images/gradle/bg-4.png" data-background-size="cover"><h2>What&#8217;s next? <span class="small">- Multiple Software type conventions</span></h2>
<div class="paragraph"><p>For example, a build with two different KMP libraries.</p></div>
<div class="paragraph"><p><code>settings.gradle.dcl</code></p></div>
<div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-kotlin hljs" data-noescape="true" data-lang="kotlin">softwareTypes {
    legacyLibrary {
        ...
    }
    nextGenerationLibrary {
        compose {
            ...
        }
    }
}</code></pre></div></div></section><section id="slide_whats_next_software_type_conventions" data-background-image="./images/gradle/bg-4.png" data-background-size="cover"><h2>What&#8217;s next? <span class="small">- Software type conventions</span></h2>
<div class="paragraph"><p>Some reusable conventions cross software type boundaries.</p></div>
<div class="paragraph"><p>For example, Compose can be used by KMP or Android.</p></div>
<div class="paragraph"><p><code>settings.gradle.dcl</code></p></div>
<div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-kotlin hljs" data-noescape="true" data-lang="kotlin">conventions {
    compose {
        kotlinCompilerExtensionVersion = "1.5.12"
    }
}
softwareTypes {
    kmpLibrary {
        compose = conventions.compose
    }
    androidLibrary {
        compose = conventions.compose
    }
}</code></pre></div></div></section></section>
<section><section id="slide_where_do_we_want_to_go" data-background-color="#02303a" data-background-image="./images/gradle/bg-4.png" data-background-size="cover"><h2>Where do we want to go?</h2><div class="paragraph"><p>üöÄ</p></div><aside class="notes"><div class="paragraph"><p>Speaker Paul</p></div></aside></section><section id="slide_where_do_we_want_to_go_2" data-background-image="./images/gradle/bg-4.png" data-background-size="cover"><h2>Where do we want to go? üöÄ</h2>
<div class="quoteblock"><blockquote><div class="paragraph"><p>Elegant and extensible declarative build language that allows developers to describe any kind of software in a clear and understandable way.</p></div></blockquote></div>
<div class="paragraph"><p>and more &#8230;&#8203;</p></div>
<div class="ulist"><ul><li><p>Pluggable mutations/refactorings</p></li><li><p>Excellent IDE support</p></li></ul></div></section><section id="slide_transition"><h2>Transition</h2><div class="ulist"><ul><li><p>You can mix imperative and declarative in a build</p></li><li><p>Gradle imperative DSLs don&#8217;t go away</p></li><li><p>Software-types will be usable from imperative DSLs</p></li><li><p>We are exploring ways and tooling for incremental migration</p></li></ul></div></section><section id="slide_roadmap_highly_speculative"><h2>Roadmap <span class="small">- Highly speculative</span></h2><div class="ulist"><ul><li><p>First EAP this summer</p><div class="ulist"><ul><li><p>Demonstrating what we just talked about</p></li><li><p>Early feedback from the community</p></li></ul></div></li><li><p>2024-H2</p><div class="ulist"><ul><li><p>More EAPs towards the end of the year</p></li><li><p>More features</p></li><li><p>Addressing collected feedback</p></li><li><p>Further feedback from the community</p></li></ul></div></li></ul></div></section></section>
<section><section id="slide_call_to_action" data-background-color="#02303a" data-background-image="./images/gradle/bg-4.png" data-background-size="cover"><h2>Call to action</h2><div class="paragraph"><p>üôå</p></div><aside class="notes"><div class="paragraph"><p>Speaker Sterling</p></div></aside></section><section id="slide_we_need_your_help_and_feedback" data-background-image="./images/gradle/bg-4.png" data-background-size="cover"><h2>We need your help and feedback üôå</h2>
<div class="ulist"><ul><li><p>Visit <a href="https://declarative.gradle.org">declarative.gradle.org</a> site</p></li><li><p>Explore <a href="https://github.com/gradle/declarative-gradle">gradle/declarative-gradle</a> repository</p></li><li><p>Join Gradle&#8217;s <a href="https://gradle.org/slack-invite">Community Slack</a><br>
<span class="small"><code>#declarative-gradle</code></span></p></li><li><p>Share your thoughts and use cases with us</p></li></ul></div></section></section>
<section id="slide_thank_you" data-background-color="#02303a" data-background-image="./images/kotlinconf/vote.png" data-background-size="cover"><h2>Thank you!</h2>
<div class="paragraph"><p>Don&#8217;t forget to vote!</p></div>
<div class="paragraph"><p>Come talk with us at our booth üêò</p></div>
<div class="listingblock speaker-info"><div class="content"><pre class="highlightjs highlight"><code class="language-kotlin hljs" data-noescape="true" data-lang="kotlin">speaker {
  name = "Sterling Greene"
  company = "Gradle"
  joined = 2014
  currently = "Declarative Gradle"
  previously = "JVM, Core, Native, Build Cache"
  github = "big-guy"
  x = "@argfile"
}</code></pre></div></div>
<div class="listingblock speaker-info"><div class="content"><pre class="highlightjs highlight"><code class="language-kotlin hljs" data-noescape="true" data-lang="kotlin">speaker {
  name = "Paul Merlin"
  company = "Gradle"
  joined = 2015
  currently = "Declarative Gradle"
  previously = "Performance, Kotlin DSL, Configuration Cache"
  github = "eskatos"
  mastodon = "@eskatos@mastodon.social"
}</code></pre></div></div></section></div></div><script src="reveal.js/lib/js/head.min.js"></script><script src="reveal.js/js/reveal.js"></script><script>Array.prototype.slice.call(document.querySelectorAll('.slides section')).forEach(function(slide) {
  if (slide.getAttribute('data-background-color')) return;
  // user needs to explicitly say he wants CSS color to override otherwise we might break custom css or theme (#226)
  if (!(slide.classList.contains('canvas') || slide.classList.contains('background'))) return;
  var bgColor = getComputedStyle(slide).backgroundColor;
  if (bgColor !== 'rgba(0, 0, 0, 0)' && bgColor !== 'transparent') {
    slide.setAttribute('data-background-color', bgColor);
    slide.style.backgroundColor = 'transparent';
  }
})

// See https://github.com/hakimel/reveal.js#configuration for a full list of configuration options
Reveal.initialize({
  // Display presentation control arrows
  controls: true,
  // Help the user learn the controls by providing hints, for example by
  // bouncing the down arrow when they first encounter a vertical slide
  controlsTutorial: true,
  // Determines where controls appear, "edges" or "bottom-right"
  controlsLayout: 'edges',
  // Visibility rule for backwards navigation arrows; "faded", "hidden"
  // or "visible"
  controlsBackArrows: 'faded',
  // Display a presentation progress bar
  progress: true,
  // Display the page number of the current slide
  slideNumber: 'c/t',
  // Control which views the slide number displays on
  showSlideNumber: 'all',
  // Push each slide change to the browser history
  history: true,
  // Enable keyboard shortcuts for navigation
  keyboard: true,
  // Enable the slide overview mode
  overview: true,
  // Vertical centering of slides
  center: true,
  // Enables touch navigation on devices with touch input
  touch: true,
  // Loop the presentation
  loop: false,
  // Change the presentation direction to be RTL
  rtl: false,
  // Randomizes the order of slides each time the presentation loads
  shuffle: false,
  // Turns fragments on and off globally
  fragments: true,
  // Flags whether to include the current fragment in the URL,
  // so that reloading brings you to the same fragment position
  fragmentInURL: false,
  // Flags if the presentation is running in an embedded mode,
  // i.e. contained within a limited portion of the screen
  embedded: false,
  // Flags if we should show a help overlay when the questionmark
  // key is pressed
  help: true,
  // Flags if speaker notes should be visible to all viewers
  showNotes: false,
  // Global override for autolaying embedded media (video/audio/iframe)
  // - null: Media will only autoplay if data-autoplay is present
  // - true: All media will autoplay, regardless of individual setting
  // - false: No media will autoplay, regardless of individual setting
  autoPlayMedia: null,
  // Number of milliseconds between automatically proceeding to the
  // next slide, disabled when set to 0, this value can be overwritten
  // by using a data-autoslide attribute on your slides
  autoSlide: 0,
  // Stop auto-sliding after user input
  autoSlideStoppable: true,
  // Use this method for navigation when auto-sliding
  autoSlideMethod: Reveal.navigateNext,
  // Specify the average time in seconds that you think you will spend
  // presenting each slide. This is used to show a pacing timer in the
  // speaker view
  defaultTiming: 120,
  // Enable slide navigation via mouse wheel
  mouseWheel: false,
  // Hides the address bar on mobile devices
  hideAddressBar: true,
  // Opens links in an iframe preview overlay
  // Add `data-preview-link` and `data-preview-link="false"` to customise each link
  // individually
  previewLinks: false,
  // Transition style (e.g., none, fade, slide, convex, concave, zoom)
  transition: 'slide',
  // Transition speed (e.g., default, fast, slow)
  transitionSpeed: 'default',
  // Transition style for full page slide backgrounds (e.g., none, fade, slide, convex, concave, zoom)
  backgroundTransition: 'fade',
  // Number of slides away from the current that are visible
  viewDistance: 3,
  // Parallax background image (e.g., "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'")
  parallaxBackgroundImage: '',
  // Parallax background size in CSS syntax (e.g., "2100px 900px")
  parallaxBackgroundSize: '',
  // Number of pixels to move the parallax background per slide
  // - Calculated automatically unless specified
  // - Set to 0 to disable movement along an axis
  parallaxBackgroundHorizontal: null,
  parallaxBackgroundVertical: null,
  // The display mode that will be used to show slides
  display: 'block',

  // The "normal" size of the presentation, aspect ratio will be preserved
  // when the presentation is scaled to fit different resolutions. Can be
  // specified using percentage units.
  width: 960,
  height: 700,

  // Factor of the display size that should remain empty around the content
  margin: 0.1,

  // Bounds for smallest/largest possible scale to apply to content
  minScale: 0.2,
  maxScale: 1.5,

  // PDF Export Options
  // Put each fragment on a separate page
  pdfSeparateFragments: true,
  // For slides that do not fit on a page, max number of pages
  pdfMaxPagesPerSlide: 1,

  // Optional libraries used to extend on reveal.js
  dependencies: [
      { src: 'reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
      { src: 'reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
      { src: 'reveal.js/plugin/zoom-js/zoom.js', async: true },
      { src: 'reveal.js/plugin/notes/notes.js', async: true },
      
      
      
      
  ],

  

});</script><link rel="stylesheet" href="reveal.js/lib/css/zenburn.css"/></body></html>